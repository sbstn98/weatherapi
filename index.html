<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        @import "https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css";
    </style>
</head>
<body>
    <section class="hero">
      <div class="hero-body">
        <div class="container">
          <h1 class="title">
            Open Weather API
          </h1>
          <h2 class="subtitle">
            Current Weather in Hamburg 
          </h2>
        </div>
      </div>
    </section>
    <div class="container">
      <div class="notification" id="display">
        This container is <strong>centered</strong> on desktop.
      </div>
    </div>
    <script>

        document.addEventListener ("DOMContentLoaded", getWeather);

        function getWeather(){
          
          const key  = '4b5a6cc68d431d230fdfdbf233ea71bd';
          fetch('https://api.openweathermap.org/data/2.5/weather?id=2911298&appid=' + key)
            .then(function(resp) { 
              return resp.json() }) // Convert data to json
          .then(function(data) {
		          console.log(data);
              let display = document.getElementById('display');
              let celsius = Math.round(parseFloat(data.main.temp)-273.15);
              display.innerHTML = 
              '<h1 class="title">' + data.name + '</h1>'+ '<br>' + '<h2 class="subtitle">' + data.weather[0].description + '</h2>' + '<br>'+ '<h1 class="title">' + celsius + '</h1>' + 'Grad';
	        })
          .catch(function() {
              console.log('ERROR!');
          });
        };



    </script>
</body>
</html>